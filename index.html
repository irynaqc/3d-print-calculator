<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>3D –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥—Ä—É–∫—É ‚Ä¢ Bambu A1 Mini</title>

  <!-- PWA -->
  <link rel="manifest" href="manifest.webmanifest">
  <meta name="theme-color" content="#22c55e">
  <link rel="apple-touch-icon" href="icon-192.png">
  <link rel="icon" href="icon-192.png">

  <style>
    :root{
      --bg:#f5f7fb;
      --card:#ffffff;
      --text:#111827;
      --muted:#6b7280;
      --line:#d1d5db;
      --accent:#22c55e;
      --accentDark:#14532d;
      --greenBg:#eafff0;
      --greenLine:#86efac;
      --purpleBg:#eeecff;
      --purpleLine:#c4b5fd;
      --shadow:0 10px 35px rgba(0,0,0,.06);
      --r:18px;
    }

    *{box-sizing:border-box}

    body{
      margin:0;
      padding:20px;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
      background:var(--bg);
      color:var(--text);
    }

    h1{margin:0;font-size:34px}
    small{color:var(--muted);font-weight:600}

    .wrapper{
      max-width:1200px;
      margin:16px auto 0;
      display:grid;
      grid-template-columns:2fr 1fr;
      gap:20px;
      align-items:start;
    }

    .card{
      background:var(--card);
      border-radius:var(--r);
      padding:18px;
      box-shadow:var(--shadow);
      margin-bottom:18px;
    }

    h2{
      font-size:18px;
      margin:0 0 14px;
      display:flex;
      align-items:center;
      gap:10px;
    }

    .tabs{display:flex;gap:10px;margin-bottom:14px}
    .tab{
      padding:10px 16px;
      border-radius:999px;
      border:1px solid var(--line);
      background:#fff;
      font-weight:900;
      cursor:pointer;
    }
    .tab.active{
      background:var(--accent);
      border-color:var(--accent);
      color:#fff;
    }

    .form{
      display:grid;
      grid-template-columns:repeat(3,1fr);
      gap:14px;
    }
    .form.two{grid-template-columns:repeat(2,1fr)}

    label{
      font-size:13px;
      color:var(--muted);
      font-weight:700;
      display:flex;
      flex-direction:column;
      gap:6px;
    }

    input{
      padding:14px;
      border-radius:16px;
      border:1px solid var(--line);
      font-size:18px;
    }

    .summary{position:sticky;top:20px}

    .row{
      display:flex;
      justify-content:space-between;
      margin:12px 0;
      font-size:18px;
    }

    .totalBox{
      background:var(--greenBg);
      border:1px solid var(--greenLine);
      border-radius:var(--r);
      padding:18px;
      margin:16px 0;
    }
    .totalBox .v{
      font-size:36px;
      font-weight:900;
      color:var(--accentDark);
    }

    .price{
      border-radius:var(--r);
      padding:16px;
      margin:14px 0;
      font-weight:900;
    }
    .green{background:var(--greenBg);border:1px solid var(--greenLine)}
    .purple{background:var(--purpleBg);border:1px solid var(--purpleLine)}

    button{
      width:100%;
      padding:18px;
      border:none;
      border-radius:var(--r);
      background:var(--accent);
      color:#fff;
      font-size:22px;
      font-weight:900;
    }

    /* MOBILE */
    @media(max-width:900px){
      .wrapper{grid-template-columns:1fr}
      .summary{position:static}
      .form,.form.two{grid-template-columns:1fr}
      h1{font-size:26px}
      input,button{font-size:20px}
    }
  </style>
</head>

<body>
  <h1>üí∞ 3D –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥—Ä—É–∫—É</h1>
  <small>Bambu A1 Mini ‚Ä¢ PLA / PETG ‚Ä¢ –≥—Ä–Ω ‚Ä¢ –§–û–ü</small>

  <div class="wrapper">
    <div>
      <div class="card">
        <h2>‚öôÔ∏è –ë–∞–∑–æ–≤—ñ –≤–∏—Ç—Ä–∞—Ç–∏</h2>

        <div class="tabs">
          <div class="tab active" data-m="PLA" data-w="130">PLA (130W)</div>
          <div class="tab" data-m="PETG" data-w="170">PETG (170W)</div>
        </div>

        <div class="form">
          <label>–¶—ñ–Ω–∞ –∫–æ—Ç—É—à–∫–∏
            <input id="spoolPrice" type="number" value="500">
          </label>
          <label>–í–∞–≥–∞ –∫–æ—Ç—É—à–∫–∏ (–≥)
            <input id="spoolWeight" type="number" value="1000">
          </label>
          <label>–¢–∞—Ä–∏—Ñ —Å–≤—ñ—Ç–ª–∞
            <input id="kwh" type="number" value="4.32">
          </label>
          <label>–ê–º–æ—Ä—Ç–∏–∑–∞—Ü—ñ—è (–≥—Ä–Ω/–≥–æ–¥)
            <input id="amort" type="number" value="10">
          </label>
          <label>–°–ø–æ–∂–∏–≤–∞–Ω–Ω—è (–í—Ç)
            <input id="power" type="number" value="130">
          </label>
          <label>–§—ñ–ª–∞–º–µ–Ω—Ç
            <input id="material" type="text" value="PLA">
          </label>
        </div>
      </div>

      <div class="card">
        <h2>üì¶ –ú–æ–¥–µ–ª—å</h2>
        <div class="form">
          <label>–í–∞–≥–∞ 1 —à—Ç (–≥)
            <input id="weight" type="number" value="0">
          </label>
          <label>–ö—ñ–ª—å–∫—ñ—Å—Ç—å
            <input id="qty" type="number" value="1">
          </label>
          <label>–ß–∞—Å 1 —à—Ç (–≥–æ–¥)
            <input id="hours" type="number" value="0">
          </label>
          <label>–•–≤
            <input id="mins" type="number" value="0">
          </label>
          <label>–î–æ–¥–∞—Ç–∫–æ–≤–æ (–≥—Ä–Ω)
            <input id="extra" type="number" value="0">
          </label>
        </div>
      </div>

      <div class="card">
        <h2>üßæ –ü–æ–¥–∞—Ç–∫–∏</h2>
        <div class="form two">
          <label>–ü–æ–¥–∞—Ç–∫–∏ / –º—ñ—Å—è—Ü—å
            <input id="taxMonthly" type="number" value="5000">
          </label>
          <label>–ó–∞–º–æ–≤–ª–µ–Ω—å / –º—ñ—Å—è—Ü—å
            <input id="ordersMonthly" type="number" value="30">
          </label>
        </div>
      </div>
    </div>

    <div class="card summary">
      <h2>–ö–æ—à—Ç–æ—Ä–∏—Å</h2>
      <div class="row"><span>–°–æ–±—ñ–≤–∞—Ä—Ç—ñ—Å—Ç—å</span><b id="total">0 –≥—Ä–Ω</b></div>

      <div class="price green">–¶—ñ–Ω–∞ √ó2: <span id="p2">0 –≥—Ä–Ω</span></div>
      <div class="price purple">–¶—ñ–Ω–∞ √ó3: <span id="p3">0 –≥—Ä–Ω</span></div>

      <button onclick="calc()">üîÑ –ü–µ—Ä–µ—Ä–∞—Ö—É–≤–∞—Ç–∏</button>
    </div>
  </div>

<script>
function calc(){
  const n = id => Number(document.getElementById(id).value||0);

  const plastic = (n("spoolPrice")/n("spoolWeight")) * n("weight") * n("qty");
  const time = (n("hours") + n("mins")/60) * n("qty");
  const energy = (n("power")/1000) * time * n("kwh");
  const amort = time * n("amort");
  const tax = n("taxMonthly") / Math.max(1,n("ordersMonthly"));

  const total = plastic + energy + amort + n("extra");
  document.getElementById("total").innerText = total.toFixed(0)+" –≥—Ä–Ω";
  document.getElementById("p2").innerText = Math.ceil(total*2+tax)+" –≥—Ä–Ω";
  document.getElementById("p3").innerText = Math.ceil(total*3+tax)+" –≥—Ä–Ω";
}
calc();
</script>

<!-- SERVICE WORKER -->
<script>
if ("serviceWorker" in navigator) {
  window.addEventListener("load", () => {
    navigator.serviceWorker.register("./sw.js");
  });
}
</script>

</body>
</html>
